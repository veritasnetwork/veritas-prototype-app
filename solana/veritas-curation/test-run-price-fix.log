Starting fresh test validator...
Waiting for validator to be ready...
Waiting for fees to stabilize 1...
Waiting for fees to stabilize 2...
Waiting for fees to stabilize 3...
Running tests with fresh validator...
warning: unexpected `cfg` condition value: `custom-heap`
  --> programs/veritas-curation/src/lib.rs:24:1
   |
24 | #[program]
   | ^^^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `custom-heap` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: `#[warn(unexpected_cfgs)]` on by default
   = note: this warning originates in the macro `$crate::custom_heap_default` which comes from the expansion of the attribute macro `program` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `custom-panic`
  --> programs/veritas-curation/src/lib.rs:24:1
   |
24 | #[program]
   | ^^^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `custom-panic` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the macro `$crate::custom_panic_default` which comes from the expansion of the attribute macro `program` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/content_pool/instructions/deploy_market.rs:31:10
   |
31 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unused import: `mul_div_u128`
  --> programs/veritas-curation/src/content_pool/instructions/trade.rs:12:12
   |
12 |     math::{mul_div_u128, round_to_nearest, renormalize_scales, ceil_div},
   |            ^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unexpected `cfg` condition value: `anchor-debug`
   --> programs/veritas-curation/src/content_pool/instructions/trade.rs:142:10
    |
142 | #[derive(Accounts)]
    |          ^^^^^^^^
    |
    = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
    = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/content_pool/instructions/add_liquidity.rs:11:10
   |
11 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/content_pool/instructions/settle_epoch.rs:10:10
   |
10 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/content_pool/instructions/close_pool.rs:10:10
   |
10 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/content_pool/instructions/get_current_state.rs:10:10
   |
10 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
   --> programs/veritas-curation/src/pool_factory/instructions/initialize_factory.rs:109:10
    |
109 | #[derive(Accounts)]
    |          ^^^^^^^^
    |
    = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
    = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
   --> programs/veritas-curation/src/pool_factory/instructions/create_pool.rs:121:10
    |
121 | #[derive(Accounts)]
    |          ^^^^^^^^
    |
    = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
    = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/pool_factory/instructions/update_protocol_authority.rs:62:10
   |
62 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/pool_factory/instructions/update_defaults.rs:98:10
   |
98 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/pool_factory/instructions/update_fee_config.rs:68:10
   |
68 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/veritas_custodian/instructions/initialize_custodian.rs:32:10
   |
32 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/veritas_custodian/instructions/deposit.rs:47:10
   |
47 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/veritas_custodian/instructions/withdraw.rs:70:10
   |
70 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/veritas_custodian/instructions/update_protocol_authority.rs:47:10
   |
47 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/veritas_custodian/instructions/toggle_emergency_pause.rs:42:10
   |
42 | #[derive(Accounts)]
   |          ^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/lib.rs:24:1
   |
24 | #[program]
   | ^^^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the attribute macro `program` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unexpected `cfg` condition value: `anchor-debug`
  --> programs/veritas-curation/src/lib.rs:24:1
   |
24 | #[program]
   | ^^^^^^^^^^
   |
   = note: expected values for `feature` are: `cpi`, `default`, `idl-build`, `no-entrypoint`, `no-idl`, and `no-log-ix-name`
   = help: consider adding `anchor-debug` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: this warning originates in the derive macro `Accounts` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: use of deprecated method `anchor_lang::prelude::AccountInfo::<'a>::realloc`: Use AccountInfo::resize() instead
  --> programs/veritas-curation/src/lib.rs:24:1
   |
24 | #[program]
   | ^^^^^^^^^^
   |
   = note: `#[warn(deprecated)]` on by default
   = note: this warning originates in the attribute macro `program` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unused variable: `pool_key`
   --> programs/veritas-curation/src/content_pool/instructions/trade.rs:217:9
    |
217 |     let pool_key = pool.key();
    |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_pool_key`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `current_time`
   --> programs/veritas-curation/src/content_pool/instructions/trade.rs:219:9
    |
219 |     let current_time = clock.unix_timestamp;
    |         ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_current_time`

warning: unused variable: `s_short_virtual_after`
   --> programs/veritas-curation/src/content_pool/instructions/trade.rs:478:40
    |
478 |             let (s_long_virtual_after, s_short_virtual_after) = match side {
    |                                        ^^^^^^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_s_short_virtual_after`

warning: unused variable: `s_short_virtual_after`
   --> programs/veritas-curation/src/content_pool/instructions/trade.rs:752:40
    |
752 |             let (s_long_virtual_after, s_short_virtual_after) = match side {
    |                                        ^^^^^^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_s_short_virtual_after`

warning: unused variable: `current_time`
  --> programs/veritas-curation/src/content_pool/instructions/get_current_state.rs:18:9
   |
18 |     let current_time = Clock::get()?.unix_timestamp;
   |         ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_current_time`

warning: function `integer_sqrt` is never used
   --> programs/veritas-curation/src/content_pool/instructions/settle_epoch.rs:157:4
    |
157 | fn integer_sqrt(n: u128) -> Result<u128> {
    |    ^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: `veritas-curation` (lib) generated 33 warnings (5 duplicates) (run `cargo fix --lib -p veritas-curation` to apply 1 suggestion)
    Finished `release` profile [optimized] target(s) in 0.46s
+ curl -L https://github.com/Snaipe/Criterion/releases/download/v2.3.2/criterion-v2.3.2-osx-x86_64.tar.bz2 -o criterion-v2.3.2-osx-x86_64.tar.bz2
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100  176k  100  176k    0     0   240k      0 --:--:-- --:--:-- --:--:--  240k
+ tar --strip-components 1 -jxf criterion-v2.3.2-osx-x86_64.tar.bz2
   Compiling proc-macro2 v1.0.101
   Compiling unicode-ident v1.0.19
   Compiling quote v1.0.41
   Compiling version_check v0.9.5
   Compiling typenum v1.18.0
   Compiling libc v0.2.176
   Compiling cfg-if v1.0.3
   Compiling serde_core v1.0.228
   Compiling serde v1.0.228
   Compiling winnow v0.7.13
   Compiling equivalent v1.0.2
   Compiling hashbrown v0.16.0
   Compiling subtle v2.6.1
   Compiling generic-array v0.14.7
   Compiling syn v1.0.109
   Compiling indexmap v2.11.4
   Compiling zerocopy v0.8.27
   Compiling toml_datetime v0.7.2
   Compiling autocfg v1.5.0
   Compiling toml_parser v1.0.3
   Compiling cfg_aliases v0.2.1
   Compiling five8_core v0.1.2
   Compiling borsh v1.5.7
   Compiling once_cell v1.21.3
   Compiling num-traits v0.2.19
   Compiling five8 v0.2.1
   Compiling toml_edit v0.23.6
   Compiling ahash v0.8.12
   Compiling solana-sanitize v2.2.1
   Compiling semver v1.0.27
   Compiling proc-macro-crate v3.4.0
   Compiling rustc_version v0.4.1
   Compiling block-buffer v0.10.4
   Compiling solana-atomic-u64 v2.2.1
   Compiling five8_const v0.1.4
   Compiling bs58 v0.5.1
   Compiling memchr v2.7.6
   Compiling curve25519-dalek v4.1.3
   Compiling cpufeatures v0.2.17
   Compiling getrandom v0.2.16
   Compiling serde_json v1.0.145
   Compiling rand_core v0.6.4
   Compiling crypto-common v0.1.6
   Compiling syn v2.0.106
   Compiling digest v0.10.7
   Compiling sha2 v0.10.9
   Compiling solana-msg v2.2.1
   Compiling ryu v1.0.20
   Compiling itoa v1.0.15
   Compiling thiserror v1.0.69
   Compiling solana-decode-error v2.3.0
   Compiling lazy_static v1.5.0
   Compiling opaque-debug v0.3.1
   Compiling thiserror v2.0.17
   Compiling keccak v0.1.5
   Compiling solana-program-memory v2.3.1
   Compiling crunchy v0.2.4
   Compiling sha3 v0.10.8
   Compiling base64 v0.22.1
   Compiling ppv-lite86 v0.2.21
   Compiling hashbrown v0.13.2
   Compiling inout v0.1.4
   Compiling digest v0.9.0
   Compiling rand_chacha v0.3.1
   Compiling find-msvc-tools v0.1.2
   Compiling shlex v1.3.0
   Compiling getrandom v0.1.16
   Compiling rand v0.8.5
   Compiling cc v1.2.39
   Compiling cipher v0.4.4
   Compiling arrayref v0.3.9
   Compiling percent-encoding v2.3.2
   Compiling fnv v1.0.7
   Compiling qstring v0.7.2
   Compiling uriparse v0.6.4
   Compiling universal-hash v0.5.1
   Compiling anyhow v1.0.100
   Compiling libsecp256k1-core v0.2.2
   Compiling feature-probe v0.1.1
   Compiling derivation-path v0.2.0
   Compiling bv v0.11.1
   Compiling borsh-derive-internal v0.10.4
   Compiling borsh-schema-derive-internal v0.10.4
   Compiling rand_core v0.5.1
   Compiling polyval v0.6.2
   Compiling ctr v0.9.2
   Compiling solana-derivation-path v2.2.1
   Compiling aes v0.8.4
   Compiling libsecp256k1-gen-genmult v0.2.1
   Compiling libsecp256k1-gen-ecmult v0.2.1
   Compiling pbkdf2 v0.11.0
   Compiling hmac v0.12.1
   Compiling aead v0.5.2
   Compiling solana-signature v2.3.0
   Compiling solana-program-option v2.2.1
   Compiling either v1.15.0
   Compiling arrayvec v0.7.6
   Compiling byteorder v1.5.0
   Compiling constant_time_eq v0.3.1
   Compiling log v0.4.28
   Compiling libsecp256k1 v0.6.0
   Compiling solana-seed-phrase v2.2.1
   Compiling itertools v0.12.1
   Compiling blake3 v1.8.2
   Compiling solana-seed-derivable v2.2.1
   Compiling rand_chacha v0.2.2
   Compiling serde_bytes v0.11.19
   Compiling block-buffer v0.9.0
   Compiling toml_write v0.1.2
   Compiling rand v0.7.3
   Compiling sha2 v0.9.9
   Compiling num-integer v0.1.46
   Compiling memoffset v0.9.1
   Compiling base64 v0.12.3
   Compiling unicode-segmentation v1.12.0
   Compiling bitflags v2.9.4
   Compiling num-bigint v0.4.6
   Compiling heck v0.3.3
   Compiling solana-native-token v2.3.0
   Compiling rustversion v1.0.22
   Compiling aho-corasick v1.1.3
   Compiling regex-syntax v0.8.6
   Compiling solana-security-txt v1.1.1
   Compiling anchor-derive-space v0.31.1
   Compiling base64 v0.21.7
   Compiling serde_derive v1.0.228
   Compiling bytemuck_derive v1.10.1
   Compiling borsh-derive v1.5.7
   Compiling zeroize_derive v1.4.2
   Compiling thiserror-impl v1.0.69
   Compiling zeroize v1.8.2
   Compiling solana-sdk-macro v2.2.1
   Compiling thiserror-impl v2.0.17
   Compiling bytemuck v1.23.2
   Compiling num-derive v0.4.2
   Compiling merlin v3.0.0
   Compiling aes-gcm-siv v0.11.1
   Compiling solana-big-mod-exp v2.2.1
   Compiling spl-program-error-derive v0.4.1
   Compiling num_enum_derive v0.7.4
   Compiling spl-discriminator-syn v0.2.1
   Compiling regex-automata v0.4.11
   Compiling spl-discriminator-derive v0.2.0
   Compiling num_enum v0.7.4
   Compiling toml v0.5.11
   Compiling solana-hash v2.3.0
   Compiling bincode v1.3.3
   Compiling serde_spanned v0.6.9
   Compiling solana-fee-calculator v2.2.1
   Compiling solana-short-vec v2.2.1
   Compiling toml_datetime v0.6.11
   Compiling solana-sha256-hasher v2.3.0
   Compiling toml_edit v0.22.27
   Compiling solana-keccak-hasher v2.2.1
   Compiling solana-serde-varint v2.2.2
   Compiling solana-blake3-hasher v2.2.1
   Compiling anchor-lang-idl-spec v0.1.0
   Compiling regex v1.11.3
   Compiling solana-curve25519 v2.3.11
   Compiling proc-macro-crate v0.1.5
   Compiling anchor-lang-idl v0.1.2
   Compiling borsh-derive v0.10.4
   Compiling borsh v0.10.4
   Compiling toml v0.8.23
   Compiling solana-pubkey v2.4.0
   Compiling solana-borsh v2.2.1
   Compiling solana-instruction v2.3.0
   Compiling solana-sdk-ids v2.2.1
   Compiling solana-nonce v2.2.1
   Compiling cargo_toml v0.19.2
   Compiling solana-sysvar-id v2.2.1
   Compiling solana-clock v2.2.2
   Compiling solana-slot-hashes v2.2.1
   Compiling solana-rent v2.2.1
   Compiling solana-epoch-rewards v2.2.1
   Compiling solana-epoch-schedule v2.2.1
   Compiling solana-slot-history v2.2.1
   Compiling solana-last-restart-slot v2.2.1
   Compiling solana-program-error v2.2.2
   Compiling solana-account-info v2.3.0
   Compiling solana-transaction-error v2.2.1
   Compiling solana-system-interface v1.0.0
   Compiling solana-signer v2.2.1
   Compiling solana-serialize-utils v2.2.1
   Compiling solana-program-entrypoint v2.3.0
   Compiling solana-cpi v2.2.1
   Compiling solana-bincode v2.2.1
   Compiling solana-address-lookup-table-interface v2.2.2
   Compiling solana-account v2.2.1
   Compiling solana-instructions-sysvar v2.2.2
   Compiling solana-loader-v4-interface v2.2.1
   Compiling solana-vote-interface v2.2.6
   Compiling solana-zk-sdk v2.3.11
   Compiling solana-message v2.4.0
   Compiling solana-stake-interface v1.2.1
   Compiling solana-feature-gate-interface v2.2.2
   Compiling solana-loader-v3-interface v5.0.0
   Compiling solana-secp256k1-recover v2.2.1
   Compiling solana-program-pack v2.2.1
   Compiling solana-stable-layout v2.2.1
   Compiling solana-loader-v2-interface v2.2.1
   Compiling spl-discriminator v0.4.1
   Compiling spl-memo v6.0.0
   Compiling spl-associated-token-account-client v2.0.0
   Compiling anchor-syn v0.31.1
   Compiling solana-example-mocks v2.2.1
   Compiling solana-sysvar v2.3.0
   Compiling solana-program v2.3.0
   Compiling spl-program-error v0.6.0
   Compiling spl-token v7.0.0
   Compiling spl-pod v0.5.1
   Compiling spl-token-confidential-transfer-proof-generation v0.2.0
   Compiling spl-token-confidential-transfer-ciphertext-arithmetic v0.2.1
   Compiling spl-type-length-value v0.7.0
   Compiling spl-token-confidential-transfer-proof-extraction v0.2.1
   Compiling spl-token-group-interface v0.5.0
   Compiling spl-elgamal-registry v0.1.1
   Compiling spl-tlv-account-resolution v0.9.0
   Compiling spl-token-metadata-interface v0.6.0
   Compiling anchor-attribute-error v0.31.1
   Compiling anchor-attribute-constant v0.31.1
   Compiling anchor-attribute-event v0.31.1
   Compiling anchor-derive-accounts v0.31.1
   Compiling anchor-derive-serde v0.31.1
   Compiling anchor-attribute-program v0.31.1
   Compiling anchor-attribute-account v0.31.1
   Compiling anchor-attribute-access-control v0.31.1
   Compiling spl-transfer-hook-interface v0.9.0
   Compiling spl-token-2022 v6.0.0
   Compiling anchor-lang v0.31.1
   Compiling spl-associated-token-account v6.0.0
   Compiling anchor-spl v0.31.1
   Compiling veritas-curation v0.1.0 (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/programs/veritas-curation)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 22.05s
     Running unittests src/lib.rs (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/target/debug/deps/veritas_curation-ed4d90d9a979a137)
Deploying cluster: http://127.0.0.1:8899
Upgrade authority: /Users/josh/.config/solana/id.json
Deploying program "veritas_curation"...
Program path: /Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/target/deploy/veritas_curation.so...
Program Id: D1tNYkzevBrxRM9XNALUVAHU4Lg7W7YQkK8eFTxuMhRC

Signature: 4h5jNLumPvxoBuZQCLpnVo8Y9kis1Kszpo9ervefEXViphLDG4MXGRYFwNYi1uoypw5sJEzkipEfqDmgJPUPdnuA

Deploy success

Found a 'test' script in the Anchor.toml. Running it as a test suite!

Running test suite: "/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/Anchor.toml"

yarn run v1.22.19
warning ../../../../package.json: No license field
$ /Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/node_modules/.bin/ts-mocha -p ./tsconfig.json -t 1000000 tests/content-pool-icbs.test.ts tests/debug-lambda-calc.test.ts tests/fee-calculation.test.ts tests/fee-config.test.ts tests/pool-factory-icbs.test.ts tests/price-sanity-check.test.ts tests/trade-fees.test.ts tests/upgrade-authority-prototype.test.ts

TypeError: Cannot convert a BigInt value to a number
    at Math.pow (<anonymous>)
    at Suite.<anonymous> (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/tests/price-sanity-check.test.ts:45:15)
    at Object.create (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Object.<anonymous> (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/tests/price-sanity-check.test.ts:32:1)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/node_modules/ts-node/src/index.ts:439:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/node_modules/ts-node/src/index.ts:442:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1449:12)
    at require (node:internal/modules/helpers:135:16)
    at Object.exports.requireOrImport (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/node_modules/mocha/lib/nodejs/esm-utils.js:60:20)
    at Object.exports.loadFilesAsync (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/node_modules/mocha/lib/nodejs/esm-utils.js:103:20)
    at singleRun (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at Object.exports.handler (/Users/josh/veritas/veritas-prototype-app/solana/veritas-curation/node_modules/mocha/lib/cli/run.js:374:5)
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
Cleaning up validator...
